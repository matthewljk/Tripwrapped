@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #0f172a;
  --accent: #1e40af;
  --accent-hover: #1e3a8a;
  --muted: #64748b;
  --border: #e2e8f0;
  --card: #ffffff;
  --card-border: #f1f5f9;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

html {
  /* Prefer dynamic viewport so mobile layout adapts when browser chrome shows/hides */
  min-height: 100dvh;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-plus-jakarta), ui-sans-serif, system-ui, sans-serif;
  -webkit-tap-highlight-color: transparent;
  min-height: 100dvh;
  overflow-x: hidden;
}

/* Safe area for notched devices (mobile-first) */
.safe-area-padding {
  padding-left: env(safe-area-inset-left, 0);
  padding-right: env(safe-area-inset-right, 0);
}

/* Minimum horizontal padding so text never gets cut off at screen edges (use on main content) */
.content-padding-x {
  padding-left: max(2rem, env(safe-area-inset-left, 0));
  padding-right: max(2rem, env(safe-area-inset-right, 0));
}

@media (min-width: 640px) {
  .content-padding-x {
    padding-left: max(1.5rem, env(safe-area-inset-left, 0));
    padding-right: max(1.5rem, env(safe-area-inset-right, 0));
  }
}

/* Prevent long words from overflowing on small screens */
.content-wrap {
  overflow-wrap: break-word;
  word-wrap: break-word;
  word-break: break-word;
}

.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0);
}

/* Optional: add safe area to bottom of an element (e.g. lightbox actions) */
.pb-safe {
  padding-bottom: env(safe-area-inset-bottom, 0);
}

/* Dynamic viewport: adapts when mobile browser UI shows/hides */
.min-h-dscreen {
  min-height: 100dvh;
}
.min-h-dscreen-half {
  min-height: 50dvh;
}

/* Desktop (webapp): ensure no mobile bottom nav space, clean layout */
body.layout-desktop main {
  padding-bottom: 0;
}

.btn-primary {
  @apply inline-flex min-h-[44px] min-w-[44px] items-center justify-center rounded-xl bg-[var(--accent)] px-6 py-3 text-sm font-semibold text-white shadow-sm transition-all duration-200 hover:bg-[var(--accent-hover)] hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 active:scale-[0.98];
}

.card {
  @apply rounded-2xl border border-[var(--card-border)] bg-[var(--card)] shadow-sm;
}

/* Prevent iOS zoom on input focus (mobile-friendly) */
@media (max-width: 768px) {
  input[type="text"],
  input[type="email"],
  input[type="password"],
  select,
  textarea {
    font-size: 16px;
  }
}

[data-amplify-authenticator] {
  --amplify-components-button-primary-background-color: #1e40af;
  --amplify-components-button-primary-hover-background-color: #1e3a8a;
  --amplify-components-button-link-color: #1e40af;
  --amplify-components-tabs-item-active-color: #1e40af;
  --amplify-components-tabs-item-focus-color: #1e40af;
  --amplify-components-fieldcontrol-focus-border-color: #1e40af;
  --amplify-components-fieldcontrol-focus-box-shadow: 0 0 0 2px #1e40af;
}

.login-video-background {
  display: none;
  position: fixed;
  inset: 0;
  z-index: 0;
  overflow: hidden;
}

/* Show video on landing (unauthenticated) or when auth modal is open */
body:has([data-amplify-authenticator]) .login-video-background,
body:has([data-landing]) .login-video-background {
  display: block;
}

body:has([data-amplify-authenticator]) [data-amplify-authenticator] {
  position: relative;
  z-index: 1;
}

body:has([data-amplify-authenticator]) {
  background: linear-gradient(180deg, #0f172a 0%, #1e3a5f 100%) !important;
  min-height: 100dvh;
}

body:has([data-landing]) {
  background: linear-gradient(180deg, #0f172a 0%, #1e3a5f 100%) !important;
  min-height: 100dvh;
}

body:has([data-amplify-authenticator]) [data-amplify-authenticator] {
  --amplify-colors-background-primary: #ffffff;
  --amplify-colors-background-secondary: #f8fafc;
  border-radius: 1rem;
  overflow: hidden;
  box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.4);
}
